<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë„ì„œ í‘œì§€ ì—…ë¡œë“œ</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 30px; }
        #preview img { max-width: 300px; margin-top: 10px; display: block; margin: auto; }
        .file-info { margin-top: 10px; color: gray; }
        pre { background: #f5f5f5; padding: 10px; text-align: left; max-width: 500px; margin: auto; }
    </style>
</head>
<body>
    {% extends "base.html" %}
    {% block title %}ë„ì„œ í‘œì§€ ì—…ë¡œë“œ{% endblock %}
    {% block content %}
    <div class="card">
    <div class="card-body text-center">
        <h4 class="fw-bold mb-3">{{ current_user.username }}ë‹˜, ë„ì„œ í‘œì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš” ğŸ“–</h4>
        <form method="POST" enctype="multipart/form-data">
        <input type="file" id="file-input" name="file" class="form-control mb-3" accept="image/*" required>
        <div id="preview" class="mb-3 text-center text-muted">ë¯¸ë¦¬ë³´ê¸° ì—†ìŒ</div>
        <button type="submit" class="btn btn-primary w-100">ì—…ë¡œë“œ</button>
        </form>
        <a href="/logout" class="d-block mt-3 text-decoration-none text-secondary">ë¡œê·¸ì•„ì›ƒ</a>
    </div>
    </div>

    <script>
    const fileInput = document.getElementById('file-input');
    const preview = document.getElementById('preview');
    fileInput.addEventListener('change', e => {
        const file = e.target.files[0];
        if (file) {
        const reader = new FileReader();
        reader.onload = () => {
            preview.innerHTML = `
            <img src="${reader.result}" class="preview-img" alt="ë¯¸ë¦¬ë³´ê¸°">
            <p class="mt-2 text-muted">${file.name} (${(file.size/1024).toFixed(1)} KB)</p>
            `;
        };
        reader.readAsDataURL(file);
        }
    });
    </script>
    {% endblock %}

</body>
</html>
